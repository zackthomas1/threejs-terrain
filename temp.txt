import * as THREE from 'three';
import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

class Application {
    constructor() {
        // Initialize properties
        this._scene = null;
        this._camera = null;
        this._renderer = null;
        this._cube = null;

        // Run initialization when object is created
        this._initialize();
    }

    _initialize() {
        // Set up scene and camera
        this._scene = new THREE.Scene();
        this._camera = new THREE.PerspectiveCamera(
            75, 
            window.innerWidth / window.innerHeight, 
            0.1, 
            1000
        );

        // Set up renderer
        this._renderer = new THREE.WebGLRenderer();
        this._renderer.setSize(window.innerWidth, window.innerHeight);
        this._renderer.setAnimationLoop(() => this._animate());
        document.body.appendChild(this._renderer.domElement);

        // Create geometry and add to scene
        const geometry = new THREE.BoxGeometry(1, 1, 1);
        const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
        this._cube = new THREE.Mesh(geometry, material);
        this._scene.add(this._cube);

        // Position camera
        this._camera.position.z = 5;
    }

    _animate() {
        // Animate cube
        this._cube.rotation.x += 0.01;
        this._cube.rotation.y += 0.01;

        this._renderer.render(this._scene, this._camera);
    }
}

// Create and run the application
const _APP = new Application();